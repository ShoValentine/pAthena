// P2P Map Eligibility Configuration
// This file defines which maps can be P2P hosted and their requirements

// Format:
// map_name: <required_spec_level>
// Spec levels:
// 1 = Basic (3.0GHz, 4 cores, 8GB RAM, 100Mbps)
// 2 = Enhanced (3.5GHz, 6 cores, 16GB RAM, 200Mbps)
// 3 = Premium (4.0GHz, 8 cores, 32GB RAM, 1000Mbps)

// Test Map
p2p_test: 1

// Field Maps (Low Player Density)
moc_fild01: 1
pay_fild03: 1
gef_fild07: 1
prontera_fild01: 1
morocc_fild12: 1

// Low Level Dungeons
iz_dun01: 1
pay_dun01: 1
moc_pryd01: 1
gef_dun01: 1

// Custom Maps
custom_housing: 1
player_base: 1
guild_room: 1

// Map Flags
// These flags control P2P hosting behavior

// Never P2P host these maps (always VPS)
restricted_maps: {
    prontera
    alberta
    payon
    morocc
    izlude
    geffen
    aldebaran
    comodo
}

// Maps that can use P2P assistance even when VPS hosted
p2p_assist_maps: {
    prontera: 3  // Number of P2P assistants allowed
    alberta: 2
    payon: 2
    morocc: 2
}

// Regional Settings
// Configure relay servers for different regions
relay_servers: {
    NA: "na-relay.example.com"
    EU: "eu-relay.example.com"
    ASIA: "asia-relay.example.com"
    SA: "sa-relay.example.com"
    OCE: "oce-relay.example.com"
}

// Host Selection Weights
// These values influence host selection priority
weights: {
    latency: 40      // % weight for latency
    cpu: 25          // % weight for CPU performance
    ram: 20          // % weight for available RAM
    network: 15      // % weight for network speed
}

// Performance Requirements
requirements: {
    Basic: {
        cpu_ghz: 3.0
        cpu_cores: 4
        ram_gb: 8
        network_mbps: 100
        max_latency_ms: 100
    }
    Enhanced: {
        cpu_ghz: 3.5
        cpu_cores: 6
        ram_gb: 16
        network_mbps: 200
        max_latency_ms: 50
    }
    Premium: {
        cpu_ghz: 4.0
        cpu_cores: 8
        ram_gb: 32
        network_mbps: 1000
        max_latency_ms: 20
    }
}

// VPS Fallback Settings
fallback: {
    auto_fallback: true           // Automatically fall back to VPS if no suitable hosts
    retry_interval: 300           // Seconds to wait before trying P2P again
    min_hosts: 2                  // Minimum backup hosts required
    sync_interval: 60            // Seconds between VPS data syncs
}

// Security Settings
security: {
    validation_interval: 60       // Seconds between security checks
    max_failed_validations: 3     // Maximum consecutive failed validations before blacklist
    blacklist_duration: 3600      // Seconds to blacklist a failed host
    required_validations: {
        spawn_rates: true
        drop_rates: true
        monster_stats: true
        player_movement: true
        skill_usage: true
    }
}