# Enable or disable automatic host disabling (1 = Yes, 0 = No)
# Percentage threshold for latency spikes (e.g., 50 for 50%)
latency_spike_threshold = 50

# Percentage threshold for speed drops (e.g., 50 for 50%)
speed_drop_threshold = 50

enable_host_disabling = 1

# Per-map P2P hosting settings
# Format: map_name = 1 (1 = Enable P2P hosting, 0 = Disable P2P hosting)
moc_fild01 = 1
pay_fild03 = 1
gef_fild07 = 1
pay_dun01 = 1
gef_dun02 = 1
moc_pryd01 = 1
iz_dun01 = 1
morocc_fild12 = 1
custom_housing = 1
player_base = 1
guild_room = 1
job_quest_room = 1
test_room = 1

# Regional relay or proxy settings
# Format: region_name = relay_address
NA = na-relay.example.com
EU = eu-relay.example.com
ASIA = asia-relay.example.com
SA = sa-relay.example.com
AFRICA = africa-relay.example.com
OCEANIA = oceania-relay.example.com

# P2P Hosting Configuration for Non-Critical Maps

# Enable P2P hosting for non-critical maps (1 = Yes, 0 = No)
enable_p2p_maps = 1

# Critical maps that must stay VPS-hosted but can use P2P assistance
# Format: map_name = assistance_level (0 = No assistance, 1-3 = P2P assistance levels)
prontera = 2
geffen = 2
aldebaran = 2
payon = 2
morocc = 2

# Maximum number of simultaneous P2P nodes per map
max_p2p_nodes = 3

# Always prioritize lowest-latency host (1 = Yes, 0 = No)
prefer_low_latency = 1

# Host Requirements
# Minimum CPU requirement (GHz) - Set to 3.0 as per requirements
cpu_min_ghz = 3.0

# Minimum core count - Set to 4 as per requirements
cpu_min_cores = 4

# Minimum free RAM (GB) - Set to 8 as per requirements
ram_min = 8

# Minimum network speed (Mbps) - Set to 100 as per requirements
net_min_speed = 100

# Maximum allowed latency (ms)
net_max_latency = 30

# Maximum allowed session instability (disconnects per hour)
max_disconnects_per_hour = 1

# Enable automatic host migration if current host disconnects (1 = Yes, 0 = No)
enable_auto_migration = 1

# Enable VPS backup for non-critical maps (1 = Yes, 0 = No)
enable_vps_fallback = 1

# P2P task validation interval (seconds)
data_check_interval = 5

# Enable security verification for P2P hosts (1 = Yes, 0 = No)
enable_p2p_security_checks = 1

# P2P Host Persistence
# Enable persistent P2P host data between server restarts (1 = Yes, 0 = No)
enable_host_persistence = 1

# Path to store persistent P2P host data
host_persistence_file = "db/p2p_hosts.yml"

# Backup host selection settings
# Number of backup hosts to maintain per map
backup_hosts_per_map = 2

# Time to wait before selecting new backup host (seconds)
backup_host_selection_delay = 10

# P2P Assistance for VPS-hosted Maps
# Enable P2P node assistance for VPS-hosted maps (1 = Yes, 0 = No)
enable_p2p_assistance = 1

# Maximum P2P nodes that can assist per VPS-hosted map
max_assistance_nodes = 3

# Assistance task distribution
# Percentage of tasks to offload to P2P nodes (0-100)
p2p_assistance_load = 40

# Host Health Check
# Interval for checking host health (seconds)
health_check_interval = 15

# Number of consecutive failed checks before migration
max_failed_checks = 3

# Performance Metrics
# Enable detailed performance monitoring (1 = Yes, 0 = No)
enable_performance_monitoring = 1

# Interval for collecting performance metrics (seconds)
metric_collection_interval = 30

# Threshold for triggering automatic load redistribution (% CPU/RAM usage)
load_redistribution_threshold = 80