//================= P2P Hosting Security Configuration ===================
// Configuration file for rAthena P2P hosting network security features

//----------------------- Network Monitor Settings -----------------------
network_monitor: {
	enabled: true                    // Enable network monitoring
	update_interval: 60             // Status update interval in seconds
	cleanup_interval: 300           // Database cleanup interval in seconds
	
	metrics: {
		store_duration: 86400       // How long to keep metrics (24 hours)
		alert_timeout: 3600         // Alert expiration time in seconds
		max_samples: 1000           // Maximum samples per connection
	}
}

//----------------------- Security Settings -----------------------------
security: {
	ddos_protection: {
		enabled: true
		packet_rate: 1000          // Maximum packets per second per host
		connection_rate: 100       // Maximum new connections per second
		bandwidth_limit: 1048576   // Maximum bytes per second (1MB)
		burst_threshold: 2000      // Allowed burst size
		blacklist_duration: 3600   // Blacklist duration in seconds
	}
	
	packet_validation: {
		enabled: true
		max_size: 65536           // Maximum packet size in bytes
		encryption: true          // Enable packet encryption
		checksum: true           // Enable packet checksums
	}
	
	threat_detection: {
		enabled: true
		scan_interval: 300        // Threat scan interval in seconds
		alert_threshold: 10       // Number of events before alerting
		auto_blacklist: true     // Auto-blacklist threatening IPs
	}
}

//----------------------- Host Requirements ----------------------------
host_requirements: {
	minimum: {
		cpu_cores: 2              // Minimum CPU cores
		ram_gb: 4                 // Minimum RAM in GB
		bandwidth_mbps: 10        // Minimum bandwidth in Mbps
		storage_gb: 20           // Minimum storage in GB
		uptime_percent: 95       // Minimum uptime percentage
	}
	
	limits: {
		max_maps: 5              // Maximum hosted maps per host
		max_players: 100         // Maximum players per host
		max_instances: 3         // Maximum instances per host
		bandwidth_limit: 100     // Maximum bandwidth usage in Mbps
		storage_limit: 50        // Maximum storage usage in GB
	}
}

//----------------------- Network Optimization ------------------------
optimization: {
	compression: {
		enabled: true
		threshold: 512           // Minimum size for compression
		level: 6                // Compression level (1-9)
	}
	
	packet_priority: {
		enabled: true
		levels: 4               // Number of priority levels
		queue_size: 1000        // Maximum queue size per level
	}
	
	connection_pool: {
		enabled: true
		size: 1000             // Connection pool size
		timeout: 300           // Connection timeout in seconds
	}
}

//----------------------- Monitoring Thresholds ----------------------
thresholds: {
	critical: {
		cpu_usage: 90           // CPU usage percentage
		memory_usage: 90        // Memory usage percentage
		network_usage: 90       // Network bandwidth usage percentage
		packet_loss: 5         // Packet loss percentage
		latency: 200           // Maximum latency in milliseconds
	}
	
	warning: {
		cpu_usage: 80
		memory_usage: 80
		network_usage: 80
		packet_loss: 2
		latency: 150
	}
}

//----------------------- Database Settings -------------------------
database: {
	cleanup: {
		performance_data: 86400    // Keep performance data for 24 hours
		security_events: 604800    // Keep security events for 7 days
		metrics: 2592000          // Keep metrics for 30 days
		alerts: 7776000          // Keep alerts for 90 days
	}
	
	backup: {
		enabled: true
		interval: 86400           // Backup interval in seconds
		keep_count: 7            // Number of backups to keep
	}
}

//----------------------- Logging Settings -------------------------
logging: {
	security_events: true         // Log security events
	performance_metrics: true     // Log performance metrics
	network_stats: true          // Log network statistics
	host_status: true           // Log host status changes
	debug_info: false           // Log debug information
}

//----------------------- Admin Notifications ----------------------
notifications: {
	email: {
		enabled: false
		server: ""
		port: 587
		username: ""
		password: ""
		from: ""
		to: ""
	}
	
	discord: {
		enabled: false
		webhook_url: ""
		username: "P2P Security"
		avatar_url: ""
	}
}